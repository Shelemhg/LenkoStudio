<!--
    ============================================================================
    Lenko Studio — Home Page
    ============================================================================
    
    Purpose: Homepage with multi-column masonry gallery and lightbox viewer
    
    Key Features:
    - Masonry gallery layout for optimal image display
    - Lightbox with keyboard navigation for accessibility
    - Lazy loading for performance
    - PJAX navigation for smooth page transitions
    
    Structure:
    1. Accessibility skip link
    2. Site header (navigation component)
    3. Main gallery container
    4. Lightbox overlay for full-size image viewing
    5. Site footer component
    
    Dependencies:
    - style.css: Global styles and design tokens
    - home-gallery.css: Gallery-specific layouts
    - components.js: Reusable header/footer web components
    - home-gallery.js: Gallery initialization and lightbox logic
    - app.js: PJAX navigation and audio controls
    ============================================================================
-->
<!doctype html>
<html lang="es">
    <head>
        <!-- ===== META TAGS ===== -->
        <!-- Character encoding and viewport settings -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Alternate language versions for SEO -->
    <link rel="alternate" hreflang="en" href="../index.html" />
    <link rel="alternate" hreflang="es" href="index.html" />
    <link rel="alternate" hreflang="x-default" href="../index.html" />

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

        
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="../media/Logo.png" />

        <!-- Page title and description -->
        <title>Lenko Studio</title>
        <meta name="description" content="Lenko Studio — Fotografía y video cinematográfico. Reserva una sesión, explora nuestro trabajo y descubre ADAM para creadores." />


        <!-- ===== FONT PRELOADING ===== -->
        <!-- Preconnect to Google Fonts for faster loading -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        
        <!-- Load Inter (UI text) and Playfair Display (headings) fonts -->
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />


        <!-- ===== PRELOAD CRITICAL RESOURCES ===== -->
        <!-- Dynamic preload injected by shuffle script below -->
        
        <!-- ===== IMAGE RANDOMIZATION ===== -->
        <!-- Inline script runs BEFORE preload to randomize all 24 images.
             This ensures the first image varies on each refresh while still
             allowing us to preload it for optimal LCP performance. -->
        <script>
            (function() {
                // All 24 image filenames
                const allImages = [
                    'i (1).jpg', 'i (2).jpg', 'i (3).jpg', 'i (4).jpg',
                    'i (5).jpg', 'i (6).jpg', 'i (7).jpg', 'i (8).jpg',
                    'i (9).jpg', 'i (10).jpg', 'i (11).jpg', 'i (12).jpg',
                    'i (13).jpg', 'i (14).jpg', 'i (15).jpg', 'i (16).jpg',
                    'i (17).jpg', 'i (18).jpg', 'i (19).jpg', 'i (20).jpg',
                    'i (21).jpg', 'i (22).jpg', 'i (23).jpg', 'i (24).jpg'
                ];
                
                // Fisher-Yates shuffle for true randomization
                for (let i = allImages.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [allImages[i], allImages[j]] = [allImages[j], allImages[i]];
                }
                
                // Store shuffled order globally for gallery rendering
                window.SHUFFLED_GALLERY_IMAGES = allImages;
                
                // Inject preload link for the first (random) image
                const preloadLink = document.createElement('link');
                preloadLink.rel = 'preload';
                preloadLink.as = 'image';
                preloadLink.href = 'media/home/' + allImages[0];
                preloadLink.fetchpriority = 'high';
                document.head.appendChild(preloadLink);
            })();
        </script>
        
        
        <!-- ===== STYLESHEETS ===== -->
        <!-- Global styles and design tokens -->
        <link rel="stylesheet" href="../style.css?v=20251230a" />
        
        <!-- Gallery-specific masonry layout styles -->
        <link rel="stylesheet" href="../css/home-gallery.css?v=20251230a" />
        
        
        <!-- ===== SCRIPTS ===== -->
        <!-- Web components for header/footer (deferred to avoid render blocking) -->
        <script src="../js/components.js?v=20251230a" defer></script>
    </head>


    <body class="home-gallery-page">
        <!-- ===== ACCESSIBILITY ===== -->
        <!-- Skip link allows keyboard users to jump directly to main content -->
        <a class="skip-link" href="#main" id="skip-to-content">Saltar al contenido</a>

        
        <!-- ===== HEADER ===== -->
        <!-- Reusable navigation component, 'current' attribute highlights active page -->
        <site-header current="home" lang="es"></site-header>


        <!-- ===== MAIN CONTENT ===== -->
        <main id="main" class="home-gallery" role="main">
            
            <!-- Gallery Container -->
            <!-- This wrapper holds the multi-column masonry layout -->
            <div class="home-gallery__wrap">
                <!-- Gallery columns for true masonry - each item has its own height -->
                <!-- Images are rendered by inline script below using shuffled order -->
                <div id="homeGallery" class="home-gallery__columns" aria-label="Gallery"></div>
            </div>
            
            <!-- ===== GALLERY RENDERING ===== -->
            <!-- Inline script renders gallery HTML from shuffled image array.
                 Runs immediately to minimize layout shift and keep LCP fast. -->
            <script>
                (function() {
                    const gallery = document.getElementById('homeGallery');
                    const images = window.SHUFFLED_GALLERY_IMAGES;
                    if (!gallery || !images) return;
                    
                    // Determine column count based on viewport
                    const columnCount = window.matchMedia('(min-width: 1024px)').matches ? 3 : 2;
                    
                    // Distribute images across columns
                    const columns = Array.from({ length: columnCount }, () => []);
                    images.forEach((img, idx) => {
                        columns[idx % columnCount].push({ img, idx });
                    });
                    
                    // Build HTML for each column
                    let html = '';
                    columns.forEach((columnImages) => {
                        html += '<div class="home-gallery__column">';
                        columnImages.forEach(({ img, idx }) => {
                            const isFirst = idx === 0;
                            html += `
                                <button type="button" class="home-gallery__item" data-index="${idx}" aria-label="Open image">
                                    <img class="home-gallery__img" 
                                         src="../media/home/${img}" 
                                         alt="Gallery image" 
                                         loading="${isFirst ? 'eager' : 'lazy'}" 
                                         ${isFirst ? 'fetchpriority="high"' : ''}
                                         width="800" height="1200" />
                                </button>`;
                        });
                        html += '</div>';
                    });
                    
                    gallery.innerHTML = html;
                })();
            </script>




            <!-- ===== LIGHTBOX OVERLAY ===== -->
            <!-- Modal for viewing full-size images with navigation controls -->
            <div id="homeLightbox" class="home-lightbox" aria-hidden="true">
                
                <!-- Semi-transparent backdrop, clicking closes the lightbox -->
                <div class="home-lightbox__backdrop" data-lightbox-close="true"></div>
                
                <!-- Main lightbox stage containing image and controls -->
                <div class="home-lightbox__stage" role="dialog" aria-modal="true" aria-label="Image viewer" data-lightbox-close="true">
                    
                    <!-- Close button (top right) -->
                    <button type="button" class="home-lightbox__close" aria-label="Close" data-lightbox-close="true">×</button>
                    
                    <!-- Previous image button (left side) -->
                    <button type="button" class="home-lightbox__nav home-lightbox__nav--prev" aria-label="Previous image" data-lightbox-prev="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                    </button>
                    
                    <!-- Next image button (right side) -->
                    <button type="button" class="home-lightbox__nav home-lightbox__nav--next" aria-label="Next image" data-lightbox-next="true">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                    
                    <!-- Full-size image display -->
                    <img id="homeLightboxImage" class="home-lightbox__image" alt="" />
                </div>
            </div>
        </main>


        <!-- ===== FOOTER ===== -->
        <!-- Reusable footer component with contact info and social links -->
        <site-footer lang="es"></site-footer>


        <!-- ===== PAGE SCRIPTS ===== -->
        <!-- Gallery initialization and lightbox functionality -->
        <script src="../js/home-gallery.js?v=20251230a" defer></script>
        
        <!-- Global app logic: PJAX navigation and audio controls -->
        <script src="../app.js?v=20251230a" defer></script>        
        <!-- Analytics and user tracking -->
        <script src="../js/analytics.js?v=20260103" defer></script>    </body>
</html>
